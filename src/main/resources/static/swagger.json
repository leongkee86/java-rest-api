{"openapi":"3.0.1","info":{"title":"Server APIs (Java + MongoDB)","description":"## Hi. I am Lim Leong Kee.\n\nI have developed the entire set of server-side APIs using **Java**, with **MongoDB** as the underlying database. These APIs are fully documented and available for exploration and interaction via this page.\n\nYou can register for an account, then log in to:\n\n  - Play games:\n\n    1. Guess Number\n\n    2. Arrange Numbers\n\n    3. Rock Paper Scissors (practice and challenge modes)\n\n  - View your game profile or another user's game profile\n\n  - Check the leaderboard\n\n> All API endpoints are interactive and can be tested directly from this page!\n\nI also customized this Swagger UI to include the following features:\n\n1. **Automatic JWT Handling:** Captures and injects the JWT token after a successful login to enable seamless access to protected endpoints.\n\n2. **Logout Behavior:** Clears the authorization token on logout to disable access to protected endpoints until you log in again.\n\n3. **Custom Operation Sorting:** Implements a custom sorting logic for API operations based on a predefined order, making the API navigation more intuitive.\n\nI would sincerely appreciate any feedback, suggestions, or improvements you might have. Thank you for taking the time to review my work.\n","contact":{"name":"Lim Leong Kee","email":"leongkee86@gmail.com"},"version":"0.0.2"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Auth"},{"name":"Game"}],"paths":{"/api/game/rockPaperScissors/practise":{"post":{"tags":["Game"],"summary":"Practise the Rock Paper Scissors game for fun.","description":"Practise the Rock Paper Scissors game for fun. No points to earn. The number of attempts will not increase with each play.\n\nSelect your choice — Rock, Paper or Scissors — from the drop-down list in the `yourChoice` field. Rock beats Scissors. Scissors beats Paper. Paper beats Rock.\n\nThen, press the **Execute** button and see the result.\n","operationId":"2.5","parameters":[{"name":"yourChoice","in":"query","description":"Select your choice","required":true,"schema":{"type":"string","enum":["Rock","Paper","Scissors"],"default":"Rock"}}],"responses":{"200":{"description":"OK"},"401":{"description":"Unauthorized — invalid or missing token"},"400":{"description":"Invalid input"},"403":{"description":"Forbidden"}},"security":[{"bearerAuth":[]}]}},"/api/game/rockPaperScissors/challenge":{"post":{"tags":["Game"],"summary":"Play the Rock Paper Scissors game with another user. Use this endpoint to start a new round or continue the current round to play the game.","description":"**Important:** You must have at least 1 point to play this game. You can play other games to earn points.\n\n1. Choose an opponent by entering the opponent's username in the `opponentUsername` field.\n\n2. Select your choice — Rock, Paper or Scissors — from the drop-down list in the `yourChoice` field.\n> Rock beats Scissors.\n> Scissors beats Paper.\n> Paper beats Rock.\n\n3. Enter how many points that you want to stake in the `pointsToStake` field. If you win, you will receive the staked points from the opponent. If you lose, you will transfer the staked points to the opponent.\n\n4. Press the **Execute** button and see the result.\n","operationId":"2.6","parameters":[{"name":"opponentUsername","in":"query","description":"The username of the opponent that you choose to challenge","required":true,"schema":{"type":"string"}},{"name":"yourChoice","in":"query","description":"Select your choice","required":true,"schema":{"type":"string","enum":["Rock","Paper","Scissors"],"default":"Rock"}},{"name":"pointsToStake","in":"query","description":"The number of points that you want to stake","required":true,"schema":{"type":"integer","format":"int32","default":1}}],"responses":{"200":{"description":"OK"},"401":{"description":"Unauthorized — invalid or missing token"},"400":{"description":"Invalid input"},"403":{"description":"Forbidden"}},"security":[{"bearerAuth":[]}]}},"/api/game/guessNumber":{"post":{"tags":["Game"],"summary":"Guess a number from 1 to 100 in this game. Use this endpoint to start a new round or continue the current round to play","description":"Guess and enter a number **from 1 to 100** in the `yourGuessedNumber` field. Then, press the **Execute** button and see the result.\n\n### In each round, there are 3 hidden numbers.\n- **Basic Number**: Gives a hint after each wrong guess. If correctly guessed, awards +1 point and complete the round.\n- **Secret Number**: No hints provided. If correctly guessed, awards +3 points and complete the round.\n- **Trap Number**: No hints provided. If unfortunately guessed, lose 1 point but the round continues.\n\n> Your goal is to guess either the Basic Number or Secret Number to complete the round — but beware of the Trap Number!\n","operationId":"2.3","parameters":[{"name":"yourGuessedNumber","in":"query","description":"Guess a number from 1 to 100","required":true,"schema":{"type":"integer","format":"int32","default":50}}],"responses":{"403":{"description":"Forbidden — guessing is not allowed at this time"},"200":{"description":"OK"},"401":{"description":"Unauthorized — invalid or missing token"},"400":{"description":"Invalid input — number must be between 1 and 100"}},"security":[{"bearerAuth":[]}]}},"/api/game/arrangeNumbers":{"post":{"tags":["Game"],"summary":"Guess the sequence of 5 numbers in this game. Use this endpoint to start a new round or continue the current round to play.","description":"Guess and enter the sequence of the 5 numbers (1, 2, 3, 4, 5) in the `yourGuessedNumber` field. The sequence can be any arrangement of these numbers (For example: 4, 3, 5, 1, 2). Then, press the **Execute** button and see the result.\n\n### Hints you will receive after each wrong guess:\n- **[X]**: Number X is at the correct position.\n- **-X-**: Number X is at the wrong position.\n- **?X?**: Number X is invalid. Valid numbers are only 1, 2, 3, 4, 5.\n- **#X#**: Number X is duplicated.\n\n> Your goal is to enter the 5 numbers in the sequence defined by the game for the current round to complete the round. Completing a round awards you +2 points.\n","operationId":"2.4","parameters":[{"name":"yourArrangedNumbers","in":"query","description":"Guess the sequence of the 5 numbers defined by the game for the current round","required":true,"schema":{"maxItems":5,"minItems":5,"type":"array","items":{"type":"integer","format":"int32"},"default":[1,2,3,4,5]}}],"responses":{"403":{"description":"Forbidden — guessing is not allowed at this time"},"200":{"description":"OK"},"401":{"description":"Unauthorized — invalid or missing token"},"400":{"description":"Invalid input — must be exactly 5 numbers between 1 and 5"}},"security":[{"bearerAuth":[]}]}},"/api/auth/register":{"post":{"tags":["Auth"],"summary":"Registers for a new user account.","description":"Registers for a new user account.\n\n### Request body must include:\n- `username` (unique)\n- `password`\n\n> Once registered successfully, you can log in using the `/api/auth/login` endpoint to receive a JWT token.\n","operationId":"1.1","parameters":[{"name":"username","in":"query","required":true,"schema":{"type":"string"}},{"name":"password","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/auth/logout":{"post":{"tags":["Auth"],"summary":"Log out of your current user account.","description":"Log out from the user account that you are currently logged in to.","operationId":"1.3","responses":{"401":{"description":"Unauthorized — invalid or missing token"},"200":{"description":"Successful logout"}}}},"/api/auth/login":{"post":{"tags":["Auth"],"summary":"Log in to an existing user account.","description":"Authenticates a user with username and password.\n\nOn success, returns a JWT access token in the `token` field.\n\n**How to use the token in Swagger UI:**\n\n1. Copy the `token` from the response.\n\n2. Click the **Authorize** button (top right in Swagger UI).\n\n3. Paste the token into the `value` input field.\n\n4. Click **Authorize** — now your requests will include the token.\n","operationId":"1.2","parameters":[{"name":"username","in":"query","required":true,"schema":{"type":"string"}},{"name":"password","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful login"}}}},"/api/game/profile":{"get":{"tags":["Game"],"summary":"View a user's game profile","description":"View **your own game profile** (requires Bearer token) by omitting the `username` parameter.\n\nView **another user's game profile** by providing their `username` (no authentication required).\n","operationId":"2.1","parameters":[{"name":"username","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"404":{"description":"User not found"},"200":{"description":"Game profile retrieved successfully"},"401":{"description":"Unauthorized — required if viewing your own game profile"}},"security":[{"bearerAuth":[]}]}},"/api/game/leaderboard":{"get":{"tags":["Game"],"summary":"Get the top users from the leaderboard.","description":"Returns a list of users sorted by their score in descending order. You can optionally limit the number of users returned using the `limit` query parameter.","operationId":"2.2","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":100}}],"responses":{"200":{"description":"OK"}}}}},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}